<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <h1>함수와 함수표현식과 화실표함수</h1>
</body>
</html>
<script>
  //1.함수 -항상 메모리를 차지하고 있다. 메모리의 운영차원에서 볼때 유연성이 떨어진다.
  function sigma(limit=10){
    sum=0;
    for(i=0; i<limit;i++){
      sum +=1;
    }
    return sum;
  }
  console.log(sigma(10));
  //2.함수표현식 : 함수의 이름이 없다. 이건 호출되는 시점에 만들어진다.
  //변수에 저장해놓고 써야한다. 함수의 주소값을 저장하는 것이라 생각하면 됨.
  // => 보통은 이벤트 핸들러 만들때 많이사용된다.

  let myFuntion = function(limit=10){
    sum=0;
    for(i=0; i<limit;i++){
      sum +=1;
    }
    return sum;
  }
  console.log(myFuntion(10)); // 함수대신 변수를 호출함.

  //3. 화살표 함수
  let arrow = (limit=10) =>{
    sum=0;
    for(i=0; i<limit;i++){
      sum +=1;
    }
    return sum;
  }
  console.log(arrow(10));

  //함수
  let fruits = ['사과','배','귤','수박','포도','복숭아','참외','자두','연시']
  function showItem(item){
    console.log(item)
  }
  fruits.forEach(showItem)// 콘솔로그가 아니기때문에 ()를 넣으면 안됌

  // 함수표현식

  fruits.forEach(function(item){
    console.log(item)
  }); 
  // 화살표함수
  fruits.forEach((item) => console.log(item)
  );


  //전통적인 방법
  console.log("과일이름이 2글자인것만 추출하자")
  let results = [];
  for(i=0; i<fruits.length; i++){
    if( fruits[i].length == 2){
      results.push(fruits[i])
    }
  }
  console.log(results)

  //모던스크립트 필터함수 사용하기 <filter>
    results = fruits.filter((item) => item.length==2) //중괄호가 있을 때는 return써줘야함.
    results = fruits.filter((item) => item.length==2).forEach(console.log)


  /*
  let numbers = [10,2,3,6,8,9,21,20,4,25,33];
    1. 위 배열에서 각각 짝수와 홀수를 추출해보세요 (filter 사용하기)
    let words = ['school', 'hospital', 'desk', 'chair', 'language',
                 'house', 'programming', 'survey', 'assembly', 'compiler',
                 'interpreter' ];
    2. 위 배열에서 문자열의 개수가 5개 이상인것만 추출하기
    3. 위 배열에서 단어가  h로 시작하는 것만 추출하기
    4.위 배열에서 단어가  r을 포함하는 것만 추출하기 
  */

  let numbers = [10,2,3,6,8,9,21,20,4,25,33];
   // 1. 위 배열에서 각각 짝수와 홀수를 추출해보세요 (filter 사용하기)
   pair = numbers.filter((item) => item%2==0)
   nopair = numbers.filter((item) => item%2!=0)
   console.log(pair)
   console.log(nopair)

    let words = ['school', 'hospital', 'desk', 'chair', 'language',
                 'house', 'programming', 'survey', 'assembly', 'compiler',
                 'interpreter' ];
    //2. 위 배열에서 문자열의 개수가 5개 이상인것만 추출하기
    length5 = words.filter((item) => item.length>=5).forEach((w) => console.log(w));
    //3. 위 배열에서 단어가  h로 시작하는 것만 추출하기
    length_h = words.filter((item) => item[0]=='h')
    console.log(length_h);
    //4. 위 배열에서 단어가  r 을 포함하는 것만 추출하기
    in_r = words.filter((item) => item.includes( 'r'))
    console.log(in_r);

    
    // concat - 배열을 여러개 연결할때 많이 사용
    let a = [0,2,3,6,8];
    let b = [20,4,25,33];
    c = a.concat(b) // 새로운 백열 객체를 만들어서 합쳐서 반화, a자시는 안바뀜
    // 원래배열을 합치는 것 보다 속도가 더빠름
    console.log(c)

    //flat : 다차원을 1차원 함수로 바꿔줌.

    const arr1 = [0, 1, 2, [3, 4]];

    console.log(arr1.flat());
    console.log("전체요소의 개수:",arr1.flat())                      ; //합계구하는 함수는 지원안함.
    console.log("전체요소의 개수:",arr1.flat().length);

    // expected output: Array [0, 1, 2, 3, 4]

    const arr2 = [0, 1, [2, [3, [4, 5]]]];

    console.log(arr2.flat());
    // expected output: Array [0, 1, 2, Array [3, Array [4, 5]]]

    console.log(arr2.flat(2));
    // expected output: Array [0, 1, 2, 3, Array [4, 5]]

    console.log(arr2.flat(Infinity));
    // expected output: Array [0, 1, 2, 3, 4, 5]



    
    //map함수 => 배열의 모든 요소에 대해서 특정 연산을 수행하고 배열을 반환함.
    const array1 = [1, 4, 9, 16];

    // Pass a function to map
    const result = words.map((x) => x.toUpperCase());

    console.log(result);

    //5글자 이상의 단어들만 대문자로 바꾸기
    results = words.filter(x => x.length>=5).map(w=>w.toUpperCase());
    
    console.log(results);


</script>