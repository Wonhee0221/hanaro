<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <h1>객체배열 람다처리</h1>
</body>
</html>
<script>
  let scores = [
        {"id":1, "name":"김성훈", "kor":90, "eng":80, "mat":60},
        {"id":2, "name":"이민호", "kor":100, "eng":100, "mat":95},
        {"id":3, "name":"김경하", "kor":80, "eng":80, "mat":60},
        {"id":4, "name":"전미화", "kor":70, "eng":90, "mat":60},
        {"id":5, "name":"김정하", "kor":80, "eng":70, "mat":80},
        {"id":6, "name":"강수지", "kor":60, "eng":50, "mat":30},
        {"id":7, "name":"한승원", "kor":50, "eng":50, "mat":40},
        {"id":8, "name":"홍정훈", "kor":90, "eng":70, "mat":60},
        {"id":9, "name":"백운용", "kor":95, "eng":80, "mat":70},
        {"id":10, "name":"최주용", "kor":90, "eng":90, "mat":90},
    ];
    //문제1. : 총점(total), 평균(avg) 구하기 - forEach
    scores.forEach((item)=>{
      item['total']= item.kor + item.eng+item.mat;
      item['avg'] = item.total/3;
})
    console.log(scores)
    //문제2. : 국어 성적이 80점 이상인 학생의 숫자
    kor80 = scores.filter(temp => temp.kor >= 80).length
    console.log(kor80)
     //문제3. : 평균이 80점 이상인 학생 리스트
    avglist = scores.filter((item)=>item.avg >=80)
    console.log(avglist)

    //문제 4 : 총점순으로 정렬하여 출력하기 (원본데이터 그대로)
    // let sorted = scores.toSorted((x,y) => {if(x.total < y.total){
    //     return 1;}
    //   else if (x.total == y.total){
    //     return 0;
    //   }
    //   else
    //   {
    //     return -1;
    //   }
    // })
    // console.log(sorted)

    sorted1 = scores.toSorted((x,y) => (y.total - x.total))
    console.log(sorted1)


    //문제 5 : 이름에 "정"자가 들어가는 사람만 성적순으로 내림차순 정렬하여 출력하기
    console.log(scores.filter((item) => item.name.includes('정')).toSorted((x,y) => (y.total - x.total)))

    //문제 6 :  ["홍정훈","김정하","이민호"] 세명 정보만 출력하기
    let keynames = ["홍정훈","김정하" ,"이민호","강감찬","최주용"]
    console.log(scores.filter((item) => {if(item.name=="홍정훈" ||item.name== "김정하" ||item.name== "이민호") {return item.name}}))
    console.log(scores.filter((item) => keynames.includes(item.name)))
    
</script>