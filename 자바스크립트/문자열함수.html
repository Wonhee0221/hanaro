<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <h1>filtre, map, find, sort, reduce</h1>
</body>
</html>
<script>
  s1 = "7,6,4,2,4,6,10,102,305,62,13,5,67"
  //split 함수
  s2=s1.split(",") // 문자열을 특정기호를 중심으로 나눠서 문자배열을 리턴하는 함수이다.
  console.log( s2 )
  console.log( s2.join("") )

  // for(i=0; i<=s2.length;i++){
  //   s2[i] = parseInt(s2[i])
  // };
  // console.log( s2 )

  //map - 매개변수가 배열의 요소,인덱스가 가야하고 반환값이 하나존재해야한다.(연산이 수행된다.)
  s2= s2.map(item => parseInt(item)) //원본을 버리고 다른값을 가져옴 이렇게 반환 값을 받아야함,.
  console.log( s2 )

  /* filter와 find 차이 */
  //filter은 반환값이 true 또는 false 여야한다.
  // true인 것들만 모아준다.
  s3 = s2.filter(item =>item%2==0 );
  console.log(s3); //짝수리스트만 반환
  //find는 첫번째꺼 하나만 찾고 끝
  s4 = s2.find(item =>item%2==0 );
  console.log(s4);

  //존재 유무 물어보기
  s3 = s2.filter(item =>item==14 );
  console.log(s3); //14가 없으면 빈 배열이옴
  if (s3.length == 0)
    console.log('값이 없다');
  
  //find
  s4 = s2.find(item =>item == 14 );
  
  console.log(s4); //없으면 undefined가 나온다. 
  if (s4 == undefined)
    console.log('값이 없다');

  //index로 찾을 때 존재면 위치값, 존재하지 않으면 -1 반환한다.
  index = s2.findIndex( (item) => item==14);
  console.log(index)
  
  // sort
  console.log('데이터 정렬하기')
  s2.sort((item1,item2) => item1-item2) // 정수의 경우 - 0 + 가 나옴
  console.log(s2)

  //map처럼 원래 데이터는 간직하고 순서가 바뀐것을 반환받게 하고싶다.
  // tosorted 사용
  s3 = s2.toSorted((item1,item2) => item1-item2);
  console.log(s3)

  //reduce
  // prev: 이전값, current: 현재값. 반환이 무적권있어야한다.
  // 누적연산을 수행할 때 많이 사용한다.
  sum = s2.reduce((prev, current) => prev+current);
  console.log(sum)

  // 배열안에 배열풀이
  arr =[
    [1,2,3],
    [4,5,6],
    [7,8,9],
    [10,11,12]
  ];
  newArr = arr.map((item) => {
    item = item.map((item2) => {
    // 각 요소에 5를 더합니다.
    return item2 + 5;
  });
  return item;
});
console.log(newArr);


</script>